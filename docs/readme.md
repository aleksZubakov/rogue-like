### Design document

#### Игровой процесс
Игрок оказывается в случайно сгенерированном лабиринте, в котором его поджидают 
опасные монстры, вроде `SimpleWarrior`(и прочих `Mob`). Поджидают они его не просто так, 
а в случайно выбранных местах <del>(иногда даже в стенах!)</del>.

Наверняка, в случайно сгенерированном лабиринте игрок оказался случайно, и наверняка захочет из него выбраться.
Но выбраться из лабиринта можно только одним способом — умереть <del>и даже после смерти
игрок не всегда может покинуть лабиринт и душа игрока еще долгое время блуждает по подземелью, 
пытаясь найти утешенье.</del>

В лабиринте можно разжиться `Item`, вроде `SimpleShield` или `SimpleSword`,
предметы можно поднимать, каждый из `Item` повышает какие-то характеристики игрока.
Но игрок слишком слаб и напуган, чтобы носить ссобой больше 5 предметов, 
но предметы можно не только поднимать, их можно еще и выкидывать.
 
#### Боевая система и монстры
Монстры, живущие в подземелье, слепы и не могут нападать
на игрока издалека, но монстры, живущие в подземелье, ведомы [силой Дейкстры](https://ru.wikipedia.org/wiki/Алгоритм_Дейкстры)
и, когда игроку непосчастливилось оказаться достаточно близко к монстру, 
обязательно побегут в его сторону и нападут на него вблизи.

Монстры и игрок, находящиеся на соседних тайлах бьют друг друга:
- по очереди
- идя друг на друга 

#### Что делать игроку (взаимодействие с игрой)
Игрок хочет выжить, поэтому игрок может бегать<del>(убегать)</del> с помощью клавиш `UP`, `DOWN`, `LEFT`, `RIGHT`.

Игрок может поднимать предметы, просто находя на них. Поднятый предмет окажется в инвентаре, надеть предмет можно с помощью
одной из клавиш `1, 2, 3, 4, 5`, за раз игрок может надеть только один предмет.

Если инвентарь переполнен, предмет поднять нельзя. Чтобы выкинуть вещи из инвентаря нужно нажать одну из следующих комбинаций
клавиш `alt+1 ... alt+5`  


### Диаграмма компонентов
![](./components.png)

- `EventRouter` — отвечает рассылку сообщений(сам EventRouter + классы-helper)
- `LevelSystem` — отвечает за все, что может быть отображено на уровне: карта, мобы, предметы
- `Player` — игрок и сопутствующие классы
- `RogueLikeRenderer` — все, что связано непосредственно с UI и с запуском/отображением приложения

### Sequence диаграмма взаимодействия с игроком
![](./Sequence.png)
— При нажатии на одну из стрелочек объект `Player` начинает передвигаться
— О передвижении игрока сообщается `Mob`, они в ответ начинают двигаться(не обязательно сразу)
— После чего предмету сообщается, что игрок совершил движение, `Item` проверяет не наступил ли `Player` на него, если наступил, обязательно об этом сообщает

### Конечный автомат движения `Mob`
![](./automata.png)

Моб либо хаотично двигается, либо пользуясь [силой Дейкстры](https://ru.wikipedia.org/wiki/Алгоритм_Дейкстры), двигается в сторону игрока, пытаясь его побить. Либо же постыдно погибает.




### Диаграмма классов
![Package core.png](./Package%20core.png)